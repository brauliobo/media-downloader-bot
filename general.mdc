- Subtitle translation: do not overwrite target opts.lang with detected source; always translate when source is nil or differs.
- Whisper lang detection: accept ISO codes e.g. es and English names e.g. Spanish.
- Burn path: ensure VTT/ASS used for burn is translated; set language/title metadata.
- onlysrt: strip per-word tags and ensure final SRT is translated to opts.lang.
- Refactor: centralized maybe_translate_vtt to DRY translation logic.

- tdlib update: moved app-level tdlib compat shims into tdlib-schema and tdlib-ruby.
  - Schema (tdlib-schema):
    - Added/stubbed types: EmojiStatusTypeCustomEmoji (expiration_date=0), PaidReactionTypeRegular, ChatFolderName,
      AccountInfo, VerificationStatus, MessageTopicSavedMessages, MessageTopicForum, Update::DefaultPaidReactionType.
    - Added defaults in existing types: Supergroup booleans=false; restriction_reason=''; User booleans=false and ids=0;
      LinkPreviewType::Photo.author=''; ChatActionBar::ReportAddBlock.distance=0; InputMessageContent::Video.self_destruct_type=nil;
      EmojiStatus.custom_emoji_id=0; Message#text helper.
    - LOOKUP_TABLE extended for new @type strings above.
    - TD::Types.wrap made lenient: auto-creates unknown types or compat placeholders on the fly.
  - Ruby client (tdlib-ruby):
    - UpdateManager ignores benign schema mismatch errors; removed require 'tdlib/compat'.
  - App: removed dependency on lib/td_bot/compat.rb.
  - Verify: run `LOCAL_GEMS=1 TDLOG=1 ./bin/tdbot` and ensure READY/auth, messages flow.
